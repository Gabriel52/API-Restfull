<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games</title>
    <link rel="stylesheet" href="../style/created.css">

    <link rel="stylesheet" href="../bootstrap-4.5.2-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.9.0/dist/sweetalert2.all.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-dark navbar-expand-lg " style="background-image: linear-gradient(to right, tomato, purple);">
        <a class="navbar-brand" href="/">
            <img src="../public/assets/icon.png" alt="" >
        </a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarNavDropdown" >
            <img src="./public/assets/icon.png" alt="">
        </div>
        
    </nav>
    <main>
        <div class="card">
            <div class="card-header">
                <h3>Cadastrar-se</h3>
            </div>
           
            <div class="card-body">
                <hr>
                <!-- <form action="http://localhost:3000/game" method="POST"></form> -->
                    <label>Titulo</label>
                    <input name="title" autocomplete="off" id="title" type="text" placeholder="Digite o titulo do jogo" class="form-control" style="width: 70%;" required=""><br>
                    
                    <div class="box" style="display: flex; justify-content: space-between;">         
                        <input name="price" id="price" type="number" placeholder="Digite o preÃ§o do jogo" class="form-control" maxlength="11" style="width: 20%; justify-content: flex-box;" required=""><br>
                        <input name="year" id="year" type="number" placeholder="Digite o ano desse jogo" class="form-control" autocomplete="off" maxlength="11" style="width: 20%; justify-content: flex-box;  margin-right: 55%;" required=""><br>
                    </div><br>
                  
                    <button onclick="createGame()" id="cadastrar" class="btn btn-primary">Cadastrar</button>
                    <a href="/" class="btn btn-primary">Voltar</a>      
                <!-- </form>          -->
            </div>
        </div>
           
    </main>
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js "></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
    function createGame(){
        var inputTitle = document.getElementById('title');
        var inputPrice = document.getElementById('price')
        var inputYear = document.getElementById('year')

        var game ={
            title: inputTitle.value,
            price: inputPrice.value,
            year: inputYear.value
        }

        axios.post("http://localhost:3000/games", game).then(response => {

            if(response.status ==201){
                alert('Game cadastrado')
            }
        }).catch(error =>{
            console.log(error)
        })
    }
</script>